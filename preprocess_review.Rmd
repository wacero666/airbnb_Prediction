---
title: "pre-process-review"
author: "Wanhe Zhao"
date: "4/12/2019"
output: html_document
---

```{r}
review <- read.csv("review.csv")
price <- read.csv("price.csv")
```

```{r}
colnames(review)
```

```{r}
colnames(price)
df <- merge(price,review,by="id")
```

```{r}
# this is a n>p question.
dim(price)
dim(review)
dim(df)
```


# Popular_Landmarks

```{r}
library(geosphere)
add_pop <- function(yourData){
  Museum_of_Pop_Culture <- c(-122.3481, 47.6215) #long, lati
  Pike_Place_Market <- c(-122.3422, 47.6097)
  Olympic_Sculpture_Park <- c(-122.3553, 47.6166)
  Seattle_Great_Wheel <- c(-122.3425, 47.6062)
  Seattle_Art_Museum <- c(-122.3381, 47.6073)
  Kerry_Park <-c(-122.3599, 47.6295)
  meter_to_mile = 0.000621371
  total_nearby_landmarks <- (ifelse(distm(Museum_of_Pop_Culture, yourData, fun = distHaversine)*meter_to_mile <1, 1, 0) + ifelse(distm(Pike_Place_Market, yourData, fun = distHaversine)*meter_to_mile <1, 1, 0)
  + ifelse(distm(Olympic_Sculpture_Park, yourData, fun = distHaversine)*meter_to_mile <1, 1, 0)
  + ifelse(distm(Seattle_Great_Wheel, yourData, fun = distHaversine)*meter_to_mile <1, 1, 0)
  + ifelse(distm(Seattle_Art_Museum, yourData, fun = distHaversine)*meter_to_mile <1, 1, 0)
  + ifelse(distm(Kerry_Park, yourData, fun = distHaversine)*meter_to_mile <1, 1, 0))
  return(total_nearby_landmarks)
}
```

```{r}
yourData <-cbind(review$longitude, review$latitude)
total_nearby_landmarks_review <- add_pop(yourData)
review$total_nearby_landmarks <- total_nearby_landmarks_review[1,]
yourData_price <-cbind(price$longitude, price$latitude)
total_nearby_landmarks_price<- add_pop(yourData_price)
price$total_nearby_landmarks <- total_nearby_landmarks_price[1,]

```







